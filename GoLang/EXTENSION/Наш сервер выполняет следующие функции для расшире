Наш сервер выполняет следующие функции для расширения:

1. Загрузка сообщений: При запуске сервер загружает сообщения из JSON-файлов, которые содержат вопросы, на которые нужно ответить. Файлы именуются в формате "messages{employeeID}.json", где {employeeID} - идентификатор сотрудника. Сервер загружает сообщения для всех сотрудников в диапазоне от 1 до 2560.

2. Получение текущего вопроса: При обращении к серверу по пути "/message" с заголовком "X-Employee-ID" содержащим идентификатор сотрудника, сервер возвращает текущий вопрос для этого сотрудника. Если вопросы закончились, сервер возвращает статус 404.

3. Веб-сокеты: Сервер поддерживает веб-сокет соединение по пути "/ws". Расширение может установить соединение с сервером и отправлять команды в формате JSON. Поддерживаемые команды:
   - "get_current_question_number": Сервер возвращает номер текущего вопроса для сотрудника.
   - "store_response": Расширение отправляет ответ на текущий вопрос серверу. Сервер сохраняет ответ и переходит к следующему вопросу для этого сотрудника.
   - "pause": Расширение отправляет команду на паузу сервера. Сервер приостанавливает отправку вопросов и ответов до получения команды "continue".
   - "continue": Расширение отправляет команду на продолжение работы сервера после паузы.
   
4. Сохранение истории диалога: Сервер сохраняет историю диалога в базе данных SQLite. История сохраняется для каждого сотрудника в отдельной таблице. При получении ответа от расширения, сервер сохраняет вопрос и ответ в таблице.

5. Скачивание истории диалога: При обращении к серверу по пути "/download" с заголовком "X-Employee-ID" содержащим идентификатор сотрудника, сервер отправляет файл с историей диалога в формате SQLite. Файл именуется в формате "responses{employeeID}.db".

Эти функции позволяют расширению взаимодействовать с сервером, получать вопросы, отправлять ответы, управлять паузой и получать и сохранять историю диалога.